<div ng-controller="usersEditController">
    <section class="content-header">
        <h1>
            &nbsp;
        </h1>
        <ol class="breadcrumb">
            <li><a href="javascript:void(0);"><i class="fa fa-home fa-lg"></i></a></li>
            <li><a href="javascript:void(0);">Quản lý người dùng</a></li>
            <li><a ui-sref="users">Danh sánh người dùng</a></li>
            <li><a class="link-active" ui-sref="users.new">{{title}}</a></li>
        </ol>
    </section>
    <!-- Main content -->
    <section class="content">
        <!-- Horizontal Form -->
        <div class="box box-default">
            <div class="box-header with-border">
                <h3 class="box-title"><i class="fa fa-plus-square"></i> {{title}}</h3>
                <div class="box-tools pull-right">
                    <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                </div>
            </div><!-- /.box-header -->
            <form novalidate role="form" name="formUpdateUser" ng-submit="updateUser()">
                <div class="box-body">
                    <div class="row">
                        <div class="col-md-6 col-md-offset-1">
                            <div class="row form-group">
                                <div class="col-md-3"><label>Họ</label></div>
                                <div class="col-md-9">
                                    <input class="form-control" placeholder="Nhập họ" type="text"
                                           ng-maxlength="128" required name="lastName" ng-model="user.LastName"
                                           ng-class="{true:'inputInvalid', false:''}[submitted && formUpdateUser.lastName.$error.required]">
                                    <span ng-show="submitted && formUpdateUser.lastName.$error.required" class="invalid">Bạn chưa nhập họ</span>
                                    <span ng-show="submitted && formUpdateUser.lastName.$error.maxlength" class="invalid"><br />Họ không được quá 128 ký tự</span>
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col-md-3"><label>Tên đệm</label></div>
                                <div class="col-md-9">
                                    <input class="form-control" placeholder="Nhập tên đệm" type="text"
                                           ng-maxlength="128" name="middleName" ng-model="user.MiddleName"
                                           ng-class="{true:'inputInvalid', false:''}[submitted && formUpdateUser.middleName.$error.maxlength]">
                                    <span ng-show="submitted && formUpdateUser.middleName.$error.maxlength" class="invalid"><br />Tên đệm không được quá 128 ký tự</span>
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col-md-3"><label>Tên</label></div>
                                <div class="col-md-9">
                                    <input class="form-control" placeholder="Nhập tên" type="text"
                                           ng-maxlength="128" required name="name" ng-model="user.FirstName"
                                           ng-class="{true:'inputInvalid', false:''}[submitted && formUpdateUser.name.$error.required]">
                                    <span ng-show="submitted && formUpdateUser.name.$error.required" class="invalid">Bạn chưa nhập tên</span>
                                    <span ng-show="submitted && formUpdateUser.name.$error.maxlength" class="invalid"><br />Tên không được quá 128 ký tự</span>
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col-md-3"><label>Địa chỉ</label></div>
                                <div class="col-md-9">
                                    <input class="form-control" placeholder="Nhập địa chỉ" type="text"
                                           ng-maxlength="256" required name="address" ng-model="user.Address"
                                           ng-class="{true:'inputInvalid', false:''}[submitted && formUpdateUser.address.$error.maxlength]">
                                    <span ng-show="submitted && formUpdateUser.address.$error.maxlength" class="invalid"><br />Địa chỉ không được quá 256 ký tự</span>
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col-md-3"><label>Số điện thoại</label></div>
                                <div class="col-md-9">
                                    <input class="form-control" placeholder="Nhập số điện thoại" type="text"
                                           ng-maxlength="50" required name="phone" ng-model="user.PhoneNumber"
                                           ng-class="{true:'inputInvalid', false:''}[submitted && formUpdateUser.phone.$error.maxlength]">
                                    <span ng-show="submitted && formUpdateUser.phone.$error.maxlength" class="invalid"><br />Số điện thoại không được quá 50 ký tự</span>
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col-md-3"><label>Email</label></div>
                                <div class="col-md-9">
                                    <input class="form-control" placeholder="Nhập email" type="email"
                                           ng-maxlength="250" required name="email" ng-model="user.Email"
                                           ng-class="{true:'inputInvalid', false:''}[submitted && (formUpdateUser.email.$error.required || formUpdateUser.email.$error.email)]">
                                    <span ng-show="submitted && formUpdateUser.email.$error.required" class="invalid">Bạn chưa nhập email</span>
                                    <span ng-show="submitted && formUpdateUser.email.$error.email" class="invalid">Địa chỉ email không hợp lệ</span>
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col-md-3"><label>Ngày sinh</label></div>
                                <div class="col-md-9">
                                    <input required class="pickerin form-control" id="birthday"
                                           ng-click="pickerOpen3 = true" type="text" name="birthday"
                                           datepicker-append-to-body="true" datepicker-popup="dd/MM/yyyy"
                                           is-open="pickerOpen3" placeholder="Ngày sinh" convert-date ng-model="user.BirthDay"
                                           style="font-weight: normal;" />
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col-md-3"><label>Tên tài khoản</label></div>
                                <div class="col-md-9">
                                    <input class="form-control" placeholder="Nhập tên tài khoản" type="text"
                                           ng-maxlength="256" required name="userName" ng-model="user.UserName"
                                           ng-class="{true:'inputInvalid', false:''}[submitted && formUpdateUser.userName.$error.required]">
                                    <span ng-show="submitted && formUpdateUser.userName.$error.required" class="invalid">Bạn chưa nhập tên tài khoản</span>
                                    <span ng-show="submitted && formUpdateUser.userName.$error.maxlength" class="invalid"><br />Tên tài khoản không được quá 256 ký tự</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 col-md-offset-1">
                            <div class="row form-group">
                                <label>Nhóm người dùng</label>
                                <div class="form-group">
                                    <div class="checkbox" ng-repeat="group in groups">
                                        <label>
                                            <input class="form-check-input" type="checkbox" checklist-model="user.Groups" checklist-value="group"> {{group.Name}}
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!-- /.box-body -->
                <div class="box-footer">
                    <div class="col-md-12">
                        <button class="btn btn-primary" type="submit">Lưu</button>
                        <button class="btn btn-default" ui-sref="users">Hủy</button>
                    </div>
                </div>
            </form>
        </div><!-- /.box -->
    </section><!-- /.content -->
</div>
