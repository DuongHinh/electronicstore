@model ElectronicStore.Web.Models.ProductViewModel
@{
    ViewBag.Title = Model.Name;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- banner -->
@*<div class="banner banner10">
    <div class="container">
        <h2>Single Page</h2>
    </div>
</div>*@
<!-- //banner -->   

<!-- breadcrumbs -->
<div class="breadcrumb_dress">
    <div class="container">
        <ul>
            <li><a href="/"><span class="glyphicon glyphicon-home" aria-hidden="true"></span> Trang chủ</a> <i>/</i></li>
            <li>@Model.Name</li>
        </ul>
    </div>
</div>
<!-- //breadcrumbs -->
<!-- single -->
<div class="single">
    <div class="container">
        <div class="col-md-4 single-left">
            <div class="flexslider">
                <ul class="slides">
                    <li data-thumb="@Model.Image">
                        <div class="thumb-image"> <img src="@Model.Image" data-imagezoom="true" class="img-responsive" alt="@Model.Image"> </div>
                    </li>
                    @{
                        var moreImages = (List<string>)ViewBag.MoreImages;
                        if (moreImages.Count > 0)
                        {
                            foreach (var image in moreImages)
                            {
                                <li data-thumb="@image">
                                    <div class="thumb-image"> <img src="@image" data-imagezoom="true" class="img-responsive" alt="@image"> </div>
                                </li>
                            }
                        }
                    }
                </ul>
            </div>
            <!-- flexslider -->
            <script src="~/Assets/Client/js/jquery.flexslider.js"></script>
            <link href="~/Assets/Client/css/flexslider.css" rel="stylesheet" />
            <script>
					// Can also be used with $(document).ready()
					$(window).load(function() {
					  $('.flexslider').flexslider({
						animation: "slide",
						controlNav: "thumbnails"
					  });
					});
            </script>
            <!-- flexslider -->
            <!-- zooming-effect -->
            <script src="~/Assets/Client/js/imagezoom.js"></script>
            <!-- //zooming-effect -->
        </div>
        <div class="col-md-8 single-right">
            <h3>@Model.Name</h3>
            @*<div class="rating1">
                <span class="starRating">
                    <input id="rating5" type="radio" name="rating" value="5">
                    <label for="rating5">5</label>
                    <input id="rating4" type="radio" name="rating" value="4">
                    <label for="rating4">4</label>
                    <input id="rating3" type="radio" name="rating" value="3" checked>
                    <label for="rating3">3</label>
                    <input id="rating2" type="radio" name="rating" value="2">
                    <label for="rating2">2</label>
                    <input id="rating1" type="radio" name="rating" value="1">
                    <label for="rating1">1</label>
                </span>
            </div>*@
            <div class="description">
                <h5><i>Mô tả sản phẩm</i></h5>
                @Html.Raw(@Model.Description)
            </div>
            <div class="color-quality">
                @*<div class="color-quality-left">
                    <h5>Color : </h5>
                    <ul>
                        <li><a href="#"><span></span></a></li>
                        <li><a href="#" class="brown"><span></span></a></li>
                        <li><a href="#" class="purple"><span></span></a></li>
                        <li><a href="#" class="gray"><span></span></a></li>
                    </ul>
                </div>*@
                <div class="color-quality-left">
                    <h5>Số lượng : @Model.Quantity</h5>
                    @*<div class="quantity">
                        <div class="quantity-select">
                            <div class="entry value-minus1">&nbsp;</div>
                            <div class="entry value1"><span>1</span></div>
                            <div class="entry value-plus1 active">&nbsp;</div>
                        </div>
                    </div>*@
                    <!--quantity-->
                    @*<script>
								$('.value-plus1').on('click', function(){
									var divUpd = $(this).parent().find('.value1'), newVal = parseInt(divUpd.text(), 10)+1;
									divUpd.text(newVal);
								});

								$('.value-minus1').on('click', function(){
									var divUpd = $(this).parent().find('.value1'), newVal = parseInt(divUpd.text(), 10)-1;
									if(newVal>=1) divUpd.text(newVal);
								});
                    </script>*@
                    <!--quantity-->

                </div>
                <div class="clearfix"> </div>
            </div>
            <div class="simpleCart_shelfItem">
                @if (Model.PromotionPrice.HasValue)
                {
                    <p><span>$@Model.PromotionPrice</span> <i class="item_price">$@Model.Price</i></p>
                }
                else
                {
                    <p><i class="item_price">$@Model.Price</i></p>
                }

                <button type="button" class="w3ls-cart btnAddToCart">Thêm vào giỏ hàng</button>
            </div>
        </div>
        <div class="clearfix"> </div>
    </div>
</div>
<!-- Related Products -->
<div class="w3l_related_products">
    <div class="container">
        <h3>Sản phẩm liên quan</h3>
        <ul id="flexiselDemo2">
           @{
               var relatedProducts = (IEnumerable<ElectronicStore.Web.Models.ProductViewModel>)ViewBag.RelatedProducts;
               foreach (var product in relatedProducts)
               {
                 var url = "/" + product.Alias + ".p-" + product.Id;
                <li>
                    <div class="w3l_related_products_grid">
                        <div class="agile_ecommerce_tab_left mobiles_grid">
                            <div class="">
                                <a href="@url"><img src="@product.Image" alt="" class="img-responsive" /></a>
                            </div>
                            <h5><a href="@url">@product.Name</a></h5>
                            <div class="simpleCart_shelfItem">
                                @if (product.PromotionPrice.HasValue)
                                {
                                    <p><span>$@product.PromotionPrice</span> <i class="item_price">$@product.Price</i></p>
                                }
                                else
                                {
                                    <p><i class="item_price">$@product.Price</i></p>
                                }

                                <button type="button" class="w3ls-cart btnAddToCart">Thêm vào giỏ hàng</button>
                            </div>
                        </div>
                    </div>
                </li>
               }
        }
        </ul>

        <script type="text/javascript">
					$(window).load(function() {
						$("#flexiselDemo2").flexisel({
							visibleItems:4,
							animationSpeed: 1000,
							autoPlay: true,
							autoPlaySpeed: 3000,
							pauseOnHover: true,
							enableResponsiveBreakpoints: true,
							responsiveBreakpoints: {
								portrait: {
									changePoint:480,
									visibleItems: 1
								},
								landscape: {
									changePoint:640,
									visibleItems:2
								},
								tablet: {
									changePoint:768,
									visibleItems: 3
								}
							}
						});

					});
        </script>
        <script src="~/Assets/Client/js/jquery.flexisel.js"></script>
    </div>
</div>
<!-- //Related Products -->

